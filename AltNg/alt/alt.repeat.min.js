"use strict";var alt=alt||{};alt.repeat=angular.module("alt.repeat",["ng"]),function(n){var r=function(n){return typeof n=="function"},u=function(n){return Array.isArray?Array.isArray(n):Object.toString.call(n)==="[object Array]"},t=function(n){return n===null},i=function(n){return n===undefined},f=function(n,t,i){function r(n){var t=i.apply(this,arguments);return t===!1&&(n.stopPropagation(),n.preventDefault()),t}function u(){var t=i.call(n,window.event);return t===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),t}n.addEventListener?n.addEventListener(t,r,!1):n.attachEvent("on"+t,u)};n.config(["$provide",function(n){n.decorator("$rootScope",["$delegate","$exceptionHandler",function(n,u){var e={},o,h,f,s;for(o in n)r(n[o])&&(e[o]=n[o]);return h=n.constructor,f={},f.$new=function(n){var t=e.$new.call(this,n);return t.$$gatingFunction=this.$$gatingFunction,t.$$parentGatingFunction=this.$$gatingFunction,t.$$shouldGateFunction=this.$$shouldGateFunction,t.$$gatedWatchers=[],t.$$cleanUpQueue=this.$$cleanUpQueue,t},f.$digestGated=function(n){var i,f,o,h,c,r=this,l=this,e,a=!1;do{if(o=r.$$gatedWatchers)for(h=o.length;h--;)try{if(i=o[h],i.gatingFunction!==n)continue;i&&!t(i.cleanUp)&&(i.cleanUp(),i.cleanUp=null);!i||(f=i.get(r))===(e=i.last)||(i.eq?areEqual(f,e):typeof f=="number"&&typeof e=="number"&&isNaN(f)&&isNaN(e))||(a=!0,i.last=i.eq?copy(f):f,i.fn(f,e===s?f:e,r))}catch(v){u(v)}if(!(c=r.$$gatingFunction===n&&r.$$childHead||r!==l&&r.$$nextSibling))while(r!==l&&!(c=r.$$nextSibling))r=r.$parent}while(r=c);return n.hasDigested=!0,a},f.$watch=function(n,i,r,u){var h,c,f,o;return!t(this.$$gatingFunction)&&(t(this.$$shouldGateFunction)||this.$$shouldGateFunction(n,i,r,u))?(h=this.$$watchers,this.$$watchers=this.$$gatedWatchers,c=e.$watch.call(this,n,i,r),this.$$watchers=h,this.$$gatedWatchers[0].gatingFunction=this.$$gatingFunction,this.$$gatedWatchers[0].cleanUp=null,s=this.$$gatedWatchers[0].last,f=this.$$gatedWatchers[0],this.$$gatingFunction.shouldEvalNewWatchers&&this.$$gatingFunction.hasDigested&&(o=this,f.cleanUp=e.$watch.call(o,function(){t(f.cleanUp)||(o.$$cleanUpQueue.unshift(f.cleanUp),f.cleanUp=null);var n,i=s;return!f||(n=f.get(o))===(i=f.last)||(f.eq?areEqual(n,i):typeof n=="number"&&typeof i=="number"&&isNaN(n)&&isNaN(i))||(f.last=f.eq?copy(n):n,f.fn(n,i===s?n:i,o)),f.last})),c):e.$watch.call(this,n,i,r)},f.$digest=function(){var n=!1,i,r;if(!t(this.$$parentGatingFunction)&&this.$$parentGatingFunction()){i=5;do if(n=this.$digestGated(this.$$parentGatingFunction),i--,n&&!i--)throw Error(TTL+" $digest() iterations reached for gated watcher. Aborting!\nWatchers fired in the last 5 iterations.");while(n)}for(n=e.$digest.call(this)||n,r=this.$$cleanUpQueue;r.length;)try{r.shift()()}catch(f){u(f)}return n},f.$addWatcherGate=function(n,r,u){var f=0,o=this,s=!t(this.$$gatingFunction);(function(){var i=null;o.$watch(function(){return n()?o.$digestGated(n)&&++f:s&&t(i)&&(i=e.$watch.call(o,function(){return n()&&(i(),i=null,o.$digestGated(n)&&++f),f})),f})})();i(r)&&(r=null);i(u)&&(u=!1);this.$$gatingFunction=n;this.$$gatingFunction.shouldEvalNewWatchers=u;this.$$shouldGateFunction=r},angular.extend(h.prototype,f),angular.extend(n,f),n.$$gatingFunction=null,n.$$parentGatingFunction=null,n.$$shouldGateFunction=null,n.$$gatedWatchers=[],n.$$cleanUpQueue=[],n}])}]);n.directive("altRepeat",["$animate","$parse",function(n){function t(n){n.scope.$addWatcherGate(function(){return n.isActiveForRepeat})}return{restrict:"AC",scope:!0,transclude:"element",priority:1e3,terminal:!0,compile:function(i,r,f){return function(i,r,e){var a=e.altRepeat,h=a.match(/^\s*(.+)\s+in\s+(.*?)$/),c,l;if(!h)throw Error("Expected slyRepeat in form of '_item_ in _collection_' but got '"+a+"'.");if(c=h[1],l=h[2],h=c.match(/^(?:([\$\w]+))$/),!h)throw Error("'item' in 'item in collection' should be identifier but got '"+lhs+"'.");var o=[],s=[],v=i.$watchCollection(l,function(e){var d,b,w,y,g,k,h;if(e){if(!u(e))throw Error("'collection' did not evaluate to an array.  expression was "+l);d=o.length;o.length<e.length&&s.length>0&&(b=o.length+s.length,b>e.length&&(b=e.length),o=o.concat(s.splice(0,b-o.length)));var a=null,v=[],p=[];if(e.length>o.length){for(h=o.length;h<e.length;++h)w={scope:i.$new(),isActiveForRepeat:!0},t(w),w.scope.$index=h,w.scope.$first=h==0,p.push(w);a=o.concat(p);v=s}else if(e.length<o.length){for(h=e.length;h<o.length;++h)o[h].isActiveForRepeat=!1;v=o.splice(e.length,o.length-e.length).concat(s);a=o}else a=o,v=s;if(a.length>0)for(y=a.length-1,g=a.length-1,d<a.length&&(y=d),y>0&&(y=y-1),h=y;h<=g;++h)a[h].scope.$last=h==a.length-1,a[h].scope.$middle=h!=0&&h!=a.length-1,a[h].isActiveForRepeat||(a[h].isActiveForRepeat=!0,a[h].element.css("display",""));for(h=0;h<v.length;++h){if(v[h].isActiveForRepeat)break;v[h].element.css("display","none")}for(h=0;h<a.length;++h)a[h].scope[c]=e[h];for(k=r,o.length>0&&(k=o[o.length-1].element),h=0;h<p.length;++h)f(p[h].scope,function(t){n.enter(t,null,k);k=t;p[h].element=t});o=a;s=v}});i.$on("$destroy",function(){v()})}}}}]);n.directive("altButtload",[function(){return{restrict:"AC",link:function(n,t,i){var e=t[0],u=i.altButtloadType=="element",r=!1;f(u?e:window,"scroll",function(){if(!r){r=!0;var t=u?e:document.body,f=u?t.offsetHeight:window.innerHeight,o=t.outerHeight||t.scrollHeight,s=u?t.scrollTop:window.scrollY||window.pageYOffset,h=f+s>=o;h?n.$apply(function(){try{n.$eval(i.altButtload).then(function(){r=!1})}catch(t){r=!1}}):r=!1}})}}}])}(alt.repeat);
/*
//# sourceMappingURL=alt.repeat.min.js.map
*/